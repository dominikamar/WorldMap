"use strict";var errorNumber,signInBtn=document.querySelector(".hello-section__btn--sign-in"),signInPopup=document.querySelector(".hello-section__popups"),cancelLoginBtn=document.querySelector(".login-popup__btn--cancel-btn"),loginBtn=document.querySelector(".login-popup__btn--login-btn"),registerBtn=document.querySelector(".register-popup__btn--register-btn"),cancelRegisterBtn=document.querySelector(".register-popup__btn--cancel-btn"),registerTopBtn=document.querySelector(".register-popup__register-top-btn"),loginTopBtn=document.querySelector(".login-popup__login-top-btn"),registerPopup=document.querySelector(".register-popup__register-box"),logInPopup=document.querySelector(".login-popup__log-in-box"),loginInput=document.querySelector(".login-popup__login-input--login"),passwordInput=document.querySelector(".login-popup__login-input--password"),loginErrorText=document.querySelector(".login-popup__error-text"),registerName=document.querySelector(".register-popup__register-input--name"),registerLogin=document.querySelector(".register-popup__register-input--login"),registerEmail=document.querySelector(".register-popup__register-input--register-email"),password1=document.querySelector(".register-popup__register-input--password"),password2=document.querySelector(".register-popup__register-input--repeat-password"),checkLogIn=function(e){loginInput.value.length<3||passwordInput.value.length<8?(e.preventDefault(),loginErrorText.style.visibility="visible"):(loginErrorText.style.visibility="hidden",loginInput.value="",passwordInput.value="",hideSignInPopup())},countErrors=function(){var e=document.querySelectorAll(".register-popup__register-group");errorNumber=0,e.forEach(function(e){e.classList.contains("error-count")&&errorNumber++})},checkRegister=function(){checkLength(registerName,3),checkLength(registerLogin,3),checkLength(password1,8),checkMail(),checkPasswords(),countErrors()},checkLength=function(e,r){(e.value.length<r?showError:hideError)(e)},showError=function(e){e=e.parentElement;e.classList.add("error-count"),e.querySelector(".register-popup__error-text").style.visibility="visible"},hideError=function(e){e=e.parentElement;e.classList.remove("error-count"),e.querySelector(".register-popup__error-text").style.visibility="hidden"},checkMail=function(){(/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(registerEmail.value)?hideError:showError)(registerEmail)},checkPasswords=function(){(password1.value!==password2.value?showError:hideError)(password2)},cleanForm=function(){var e=[registerName,registerLogin,registerEmail,password1,password2];e.forEach(function(e){return e.value=""}),e.forEach(function(e){hideError(e)}),loginErrorText.style.visibility="hidden",loginInput.value="",passwordInput.value=""},showSignInPopup=function(){signInPopup.style.display="block"},hideSignInPopup=function(){signInPopup.style.display="none"},showRegisterPopup=function(){registerPopup.style.zIndex="500",logInPopup.style.zIndex="400"},showLogInPopup=function(){logInPopup.style.zIndex="500",registerPopup.style.zIndex="400"};signInBtn.addEventListener("click",showSignInPopup),cancelLoginBtn.addEventListener("click",function(){hideSignInPopup(),cleanForm()}),cancelRegisterBtn.addEventListener("click",function(){hideSignInPopup(),cleanForm()}),registerTopBtn.addEventListener("click",showRegisterPopup),loginTopBtn.addEventListener("click",showLogInPopup),loginBtn.addEventListener("click",checkLogIn),registerBtn.addEventListener("click",function(e){checkRegister(),0!==errorNumber?e.preventDefault():cleanForm()});